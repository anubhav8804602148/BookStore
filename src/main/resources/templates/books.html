<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org">
	<head>
		<link rel="shortcut icon" href="#">
		<meta charset="ISO-8859-1">
		<script src="js/angular.min.js" type="text/javascript"></script>
		<script src="js/script.js" type="text/javascript"></script>
		<link rel="stylesheet" type="text/css" href="/webjars/bootstrap/css/bootstrap.css" />
		<link rel="stylesheet" type="text/css" href="css/style.css"/>
		<script src="/webjars/jquery/jquery.js" type="text/javascript"></script>
		<title>All Books List | Book Store</title>
	</head>
<body>

		<div>
			<nav class="navbar navbar-expand-sm bg-dark navbar-dark">
			  <ul class="navbar-nav">
			    <li class="nav-item">
			      <a class="nav-link" th:href="@{/index}"><img src="images/abs-icon.png" id="iconImg"/></a>
			    </li>
			    <li class="nav-item">
			      <a class="nav-link" th:href="@{/index}">home</a>
			    </li>
			    <li class="nav-item">
			      <a class="nav-link" th:href="@{/login}">login</a>
			    </li>
			    <li class="nav-item">
			      <a class="nav-link" th:href="@{/register}">register</a>
			    </li>
			    <li class="nav-item">
			      <a class="nav-link" th:href="@{/list_users}">users</a>
			    </li>
			    <li class="nav-item">
			      <a class="nav-link" th:href="@{/list_books}">downloads</a>
			    </li>
			    <li>			    				
			    	<form th:action="@{/logout}" method="post" style="margin-left:55vw;">
			    		<p style="color:white;">Welcome <b>[[${#request.userPrincipal.principal.fullName}]]</b></p>
			    		<input type="submit" value="sign out" />
			    	</form>
			    </li>
			  </ul>
			</nav>
			<div>
				<h1>List of all Books available for download</h1>	
			</div>
			<div>
				<table class="table table-striped table-bordered">
					<thead>
						<tr>
							<th>Title</th>
							<th>Author</th>
							<th>Published Date</th>
							<th>Download Link</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="book : ${listBooks}">
							<td th:text="${book.id}"></td>
							<td th:text="${book.author}"></td>
							<td th:text="${book.publishDate}"></td>
							<td><a th:href="${book.downloadLink}" th:text="${book.downloadLink}"></a></td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	
	
</body>
</html>